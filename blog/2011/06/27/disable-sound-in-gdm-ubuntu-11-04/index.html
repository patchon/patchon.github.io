
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Disable sound in gdm - Ubuntu 11.04  | blog.fridns.se</title>

<meta name="author" content="Patrik Martinsson"> 

<meta name="description" content="A personal blog to keep track of things."> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="blog.fridns.se" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">blog.fridns.se</a></h1>
<h4></h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:patchon.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">Disable Sound in Gdm - Ubuntu 11.04</h2>
	<div class="entry-content"><p>There is a very annoying sound (a drumroll) at the login of Ubuntu 11.04 (I think it applies to earlier version to, although this method of disabling it does not, it should however work on Fedora 15). There is a gui (System/Administration/Login Screen) for making this happen, although it seems rather broken (read about it <a href=http://askubuntu.com/questions/24946/how-do-i-disable-the-drum-beat-sound-on-the-login-screen>here</a>). Nowadays dconf (gsettings is the api) is used as backend rather then gconf, although not all applications has adapted this, gdm has.
<a id="more"></a><a id="more-233"></a></p>

<!--more-->


<p>So what it boils down to is basically &ldquo;set the right gsettings for the gdm-user (since gdm is started by the user gdm)&rdquo;. Here&rsquo;s how,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Become root in whatever way you want, &lt;br&gt;</span>
</span><span class='line'>su -
</span><span class='line'>
</span><span class='line'><span class="c"># Start a shell as the gdm-user, </span>
</span><span class='line'>su - gdm -s /bin/bash
</span><span class='line'>
</span><span class='line'><span class="c"># Start a session-bus,</span>
</span><span class='line'><span class="nb">eval</span> <span class="k">$(</span>dbus-launch --sh-syntax<span class="k">)</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set the right settings through gsettings, </span>
</span><span class='line'>gsettings <span class="nb">set </span>org.gnome.desktop.sound event-sounds <span class="nb">false</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Logout, </span>
</span><span class='line'><span class="nb">exit</span>
</span></code></pre></td></tr></table></div></figure>


<p>Thanks to Norman Smith that&rsquo;s mentioning the above solution in this <a href=https://bugzilla.redhat.com/show_bug.cgi?id=503360#c30>bugzilla</a>.</p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-27T08:42:51+02:00" pubdate data-updated="true">Jun 27<span>th</span>, 2011</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/others/'>Others</a>

</div>


	
		<span class="comments"><a href="/blog/2011/06/27/disable-sound-in-gdm-ubuntu-11-04/#disqus_thread">Comments</a></span>
	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
	
<!---	<a class="addthis_counter addthis_pill_style"></a> --->
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Patrik Martinsson

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'fridns';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
